<html>

<head>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/normalize.css" rel="stylesheet">
    <link href="/css/skeleton.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet"
    type="text/css">
</head>

<body>
    <div class="container">
        <h2>lightning strikes!</h2>
        <h3>(lat, lon)</h4>
        <ul id="list">
        </ul>
    </div>
    <script>
        var ws = new WebSocket("ws://ws3.lightningmaps.org/")
         ws.onmessage = function(e)
        {
            var obj = JSON.parse(e.data)
            obj.strokes.map(function(stroke)
            {
                d3.select('#list')
                    .insert('li', ":first-child")
                    .text("(" + stroke.lat + ", " +
                        stroke.lon + ")")
            })
        }
    </script>
</body>

</html>
